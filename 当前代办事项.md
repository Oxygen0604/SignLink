# 当前代办事项

## 未完成板块

### 答题模块

**整体逻辑说明** 
1. 用户进入答题页面后，页面会显示一个实物图片、实物对应文字。
2. 用户需要根据实物图片，展示自己的答案。
3. 客户端自动捕获视频帧传输给服务端。
4. 服务端执行识别逻辑，得到用户的答案。
5. 服务端返回用户答案。
6. 客户端对答案进行比对，判断是否正确，并将结果返回服务端。
7. 客户端展示答题结果。
8. 服务端对答题结果进行统计分析，更新用户答题记录。
9. 客户端主动获取用户答题记录

**所需接口**
- WebSocket 接口：用于实时传输视频帧和接收识别结果。
    - 客户端数据格式：
        ```json
        {   
            "type":"answer_request",
            "frame":"base64-encoded video frame"
        }
        ```
        - `type`：消息类型，固定为 `"answer_request"`。
        - `frame`：视频帧（Base64编码）。
    - 服务端数据格式：
        ```json
        {
            "type":"answer_response",
            "answer":"string"
        }
        ```
        - `type`：消息类型，固定为 `"answer_response"`。
        - `answer`：服务端的文字回答。
        
- /api/record：用于获取用户答题记录。
    - 请求方法：GET
    - 请求参数：用户ID
    - 响应格式：JSON
    - 响应示例：
        ```json
        {
            "user_id": "123",
            "records": [
                "user_count":10,
                "average_accuracy":80%,
                "average_time":1000ms,
                "user_rank":3
                "user_answer_records":[
                    {
                        "word":"hello",
                        "result":"correct",
                    },
                    {
                        "word":"world",
                        "result":"incorrect",
                    },
                    {
                        "word":"signlink",
                        "result":"correct",
                    },
                ]
            ]
        }
        ```
- /api/rank：用于获取排行榜。
    - 请求方法：GET
    - 请求参数：无
    - 响应格式：JSON
    - 响应示例：
        ```json
        {
            "records": [
                {
                    "user_id": "123",
                    "user_count":10,
                    "user_rank":1
                },
                {
                    "user_id": "456",
                    "user_count":8,
                    "user_rank":2
                },
                {
                    "user_id": "789",
                    "user_count":6,
                    "user_rank":3
                },
            ]
        }
        ```
- /api/get_question: 用于获取下一个问题。
    - 请求方法：GET
    - 请求参数：无
    - 响应格式：JSON
    - 响应示例：
        ```json
        {
            "word":"hello",
            "image":"data:image/jpeg;base64,..."
        }
        ```

### AI问答模块
**所需接口**
- WebSocket 接口：用于实时传输视频帧和接收问答结果、传输文字问题。
    - 客户端数据格式：
        ```json
        {   
            "type":"ai_question_request",
            "question"?: "string",
            "img"?: "base64-encoded video frame"
        }
        ```
        - `type`：消息类型，固定为 `"ai_question_request"`。
        - `question`：可选，用户的文字问题。
        - `img`：可选，用户的视频帧（Base64编码）。
    - 服务端数据格式：
        ```json
        {
            "type":"ai_answer_response",
            "answer":"string"
        }
        ```
        - `type`：消息类型，固定为 `"ai_answer_response"`。
        - `answer`：服务端的文字回答。

### 手势识别模型
- 接入AI模型实现问答功能，模型自行选用，模型接口自行设计。
- 增加不同手势识别模型训练数据样本

文档待补充
