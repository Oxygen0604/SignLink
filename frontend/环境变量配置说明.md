# 环境变量配置说明

本项目已配置支持通过环境变量来管理后端 API 地址，避免了硬编码的问题。以下是配置说明：

## 已完成的配置

1. **安装了 `react-native-dotenv`** 库以支持环境变量
2. **配置了 Babel 插件** 以处理环境变量导入
3. **创建了类型声明** 以支持 TypeScript 类型检查
4. **创建了 `.env` 文件** 用于存储环境变量
5. **更新了 `translationStore.ts`** 以使用环境变量中的 URL
6. **添加了 `.env.example`** 作为配置示例
7. **更新了 `.gitignore`** 以忽略环境变量文件

## 环境变量列表

当前支持的环境变量：

- `WS_URL`: WebSocket 服务器地址，用于实时通信
- `HTTP_API_URL`: HTTP API 地址，用于图像识别（作为 WebSocket 的后备方案）

## 使用方法

### 查看当前配置

```bash
# 查看当前环境变量配置
cat .env
```

### 修改配置

1. 直接编辑 `.env` 文件：

```bash
nano .env
```

2. 修改对应的 URL 地址：

```
WS_URL=ws://your-websocket-server:5000/ws/translation
HTTP_API_URL=http://your-api-server:5000/api/recognize/realtime
```

### 添加新环境变量

1. 在 `.env` 文件中添加新变量
2. 在 `src/types/env.d.ts` 中添加类型声明
3. 在需要的地方导入并使用

## 注意事项

1. **不要将 `.env` 文件提交到版本控制**：该文件已被添加到 `.gitignore` 中，确保敏感信息不会泄露
2. **使用 `.env.example` 作为模板**：新成员可以复制 `.env.example` 并根据需要修改
3. **重启开发服务器**：修改环境变量后，需要重启开发服务器才能生效

## 开发与生产环境

可以根据需要创建不同环境的配置文件：

- `.env.development`: 开发环境配置
- `.env.production`: 生产环境配置
- `.env.test`: 测试环境配置

在启动应用时，可以通过 `NODE_ENV` 环境变量指定使用哪个配置文件。